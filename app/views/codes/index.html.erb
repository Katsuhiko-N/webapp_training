<%= javascript_pack_tag 'scripts/codes_script.js', defer: true %>
<!--コンテンツ部分-->
<div id="contents">
    <h1>実験ページ：Code/index</h1>
    <%= link_to "Topに戻る", root_path %>
    <p>入力した色が存在すればボックスの色が変わります</br>履歴を押すとその色に変化します</br>カラーコード（#除く6桁）の16進数で記入してください</p>
    <p id="color_info"></p>
    <div id="box"></div>
    
    <div id="code_contents">
        <% if @code.errors.any? %>
            <ul>
                <% @code.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                <% end %>
            </ul>
        <% end %>
        
        <%= form_with model: @code, url: codes_path do |f| %>
            <%= f.text_area :body, id: "input_data" %>
            <%= f.submit "保存" %>
        <% end %>
        
        
        <table class="container-fluid">
            <thead>
                <tr class="row-fluid">
                    <th>保存履歴</th><th></th>
                </tr>
            </thead>
            <tbody>
                <% @codes.each do |code| %>
                <tr class="row-fluid">
                    <td><p class="color_log"><%= code.body %></p></td><td><%= link_to "削除", code_path(code.id), method: :delete %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
        
    </div>
    
</div>